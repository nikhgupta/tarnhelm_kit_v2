<%= turbo_frame_tag "flash" do %>
    <div class="shadow">
        <% @flash.each do |type, messages| %>
            <% [messages].flatten.each do |message| %>
                <div data-controller="layouts--shared--flashes" class="text-base-100 <%= type.to_s == "alert" ? "bg-error" : "bg-success" %> <%= type %> flash border-0 p-0 m-0 rounded-none">
                    <div class="wrapper flex items-center justify-between">
                        <div class="flex items-center">
                            <% if type.to_s == "alert" %>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-4 icon icon-tabler" style="min-width: 24px; min-height: 24px" fill="none" viewBox="0 0 24 24" stroke="white">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                            <% else %>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-4 icon icon-tabler" style="min-width: 24px; min-height: 24px" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
                                </svg>
                            <% end %>

                            <p class="text-sm font-semibold tracking-wide"><%= message %></p>
                        </div>
                        <% if @dismissable %>
                            <button data-action="layouts--shared--flashes#dismiss" class="transition-colors duration-200 transform rounded-md hover:bg-opacity-25 focus:outline-none" type="button" aria-label="Close" aria-hidden="true">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-circle-x ml-4" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <circle cx="12" cy="12" r="9"></circle>
                                    <path d="M10 10l4 4m0 -4l-4 4"></path>
                                </svg>
                            </button>
                        <% end %>
                    </div>
                </div>
            <% end %>
        <% end %>
    </div>
<% end %>
